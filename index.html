<!DOCTYPE html>
<html>
<head>
    <title>Simple HeyGen Test</title>
    <script src="https://unpkg.com/@heygen/streaming-avatar@1.0.8/dist/streaming-avatar.umd.js"></script>
</head>
<body>
    <h1>HeyGen Avatar Test</h1>
    <button onclick="testSDK()">Test SDK</button>
    <video id="video" autoplay playsinline style="width: 400px; height: 300px; border: 1px solid black;"></video>
    <div id="log"></div>

    <script>
        function log(message) {
            document.getElementById('log').innerHTML += message + '<br>';
            console.log(message);
        }

        function testSDK() {
            log('Testing HeyGen SDK...');
            
            // Check what's available
            log('Window keys with heygen/stream: ' + Object.keys(window).filter(k => 
                k.toLowerCase().includes('heygen') || k.toLowerCase().includes('stream')
            ).join(', '));
            
            // Check specific objects
            log('window.StreamingAvatar: ' + typeof window.StreamingAvatar);
            log('window.HeyGenStreamingAvatar: ' + typeof window.HeyGenStreamingAvatar);
            
            // Try to create with hardcoded token for testing
            const testToken = 'eyJ0b2tlbiI6InRlc3QifQ=='; // dummy token
            
            try {
                if (window.StreamingAvatar) {
                    log('Found StreamingAvatar, trying to create...');
                    const avatar = new window.StreamingAvatar({ token: testToken });
                    log('Avatar created successfully!');
                } else if (window.HeyGenStreamingAvatar) {
                    log('Found HeyGenStreamingAvatar, trying to create...');
                    const avatar = new window.HeyGenStreamingAvatar.StreamingAvatar({ token: testToken });
                    log('Avatar created successfully!');
                } else {
                    log('No HeyGen SDK found');
                }
            } catch (error) {
                log('Error creating avatar: ' + error.message);
            }
        }
    </script>
</body>
</html>
    <script src="https://cdn.jsdelivr.net/npm/@heygen/streaming-avatar@1.0.8/dist/streaming-avatar.umd.js"></script>
    <script src="script.js"></script>
</body>
</html>
